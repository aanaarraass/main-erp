<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <template id="report_jts_pdf_view">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="web.basic_layout">
                        <div class="page">

                            <div class="header mb-0" style="width:100%">
                                <div class="row">
                                    <div class="col-12 text-center">

                                        <h2>Traders</h2>
                                        <h3>Delivery Challan</h3>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-6">
                                        <img t-att-src="image_data_uri(doc.company_id.logo)" style="width:60px;"
                                             alt="Logo"/>

                                        <table style="width:50%">
                                            <tbody>
                                                <tr>
                                                    <td>
                                                        <span>
                                                            <strong>Shipping Address:</strong>
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <t t-esc="doc.partner_id.name"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <span t-field="doc.partner_id"
                                                              t-options='{"widget": "contact", "fields": ["address"],"no_marker": True}'/>
                                                    </td>
                                                </tr>

                                            </tbody>
                                        </table>


                                    </div>
                                    <div class="col-2"></div>
                                    <div class="col-4" style="position:relative;">
                                        <table class="table table-bordered table-sm"
                                               style="line-height:1;width:300px;position:absolute;bottom:0">
                                            <tbody>
                                                <tr>
                                                    <th>Date</th>
                                                    <td>
                                                        <t t-esc="doc.date_order.date()"/>
                                                    </td>

                                                </tr>
                                                <tr>
                                                    <th>Invoice#</th>
                                                    <td>
                                                        <t t-esc="doc.name"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>Delivery</th>
                                                    <td>
                                                        <t t-esc="doc.effective_date.date()"/>
                                                    </td>
                                                    <!--<td><t t-esc="doc.commitment_date"/></td>-->
                                                </tr>
                                                <tr>
                                                    <th>Customer Name</th>
                                                    <td>
                                                        <t t-esc="doc.partner_id.name"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>Delivery Method</th>
                                                    <td>Self</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <style>
                                        .table-bordered {
                                        border: 1px solid black !important;
                                        }
                                        th,td{
                                        border: 1px solid black !important;
                                        }

                                    </style>
                                    <table class="table table-bordered text-center">
                                        <thead class="thead-dark">
                                            <tr>
                                                <th>Sr.No</th>
                                                <th>P.O</th>
                                                <th>Description</th>
                                                <th>Ordered</th>
                                                <th>Delivered</th>
                                                <th>Balanced</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <t t-value="0" t-set="i"/>
                                            <t t-foreach="doc.order_line" t-as="line">
                                                <t t-set="i" t-value="i + 1"/>
                                                <tr>
                                                    <td>
                                                        <t t-esc="i"/>
                                                    </td>
                                                    <td>
                                                        <span>-</span>
                                                    </td>
                                                    <td class="text-left">
                                                        <t t-esc="line.name"/>
                                                    </td>
                                                    <td>
                                                        <t t-esc="line.product_uom_qty"/>
                                                    </td>
                                                    <td>
                                                        <t t-esc="line.qty_delivered"/>
                                                    </td>
                                                    <td>
                                                        <t t-esc="line.price_subtotal"/>
                                                    </td>
                                                </tr>
                                            </t>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                    </t>
                </t>

            </t>
        </template>
        <record id="paperformat_jts_pdf" model="report.paperformat">
            <field name="name">A4 new</field>
            <field name="default" eval="True"/>
            <field name="format">A4</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">75</field>
            <field name="margin_bottom">5</field>
            <field name="margin_left">7</field>
            <field name="margin_right">7</field>
            <field name="header_line" eval="False"/>
            <field name="header_spacing">70</field>
            <field name="dpi">90</field>
        </record>


        <report
                id="report_jts_pdf_id"
                model="sale.order"
                string="Print Invoice Report"
                name="jts_pdf.report_jts_pdf_view"
                file="jts_pdf.report_jts_pdf_view"
                report_type="qweb-pdf"
                paperformat="paperformat_jts_pdf"
                menu="True"/>


    </data>
</odoo>